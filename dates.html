<html>

<head>
	<title>Dates + Events</title>
	<link rel="stylesheet" href="dates.css">
	<link rel="shortcut icon" href="spis_logo_pic.png" type="image/png">
	<link href="https://fonts.googleapis.com/css?family=Manjari|Source+Sans+Pro&display=swap" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://d3js.org/d3-dsv.v2.min.js"></script>
	<script src="https://d3js.org/d3-fetch.v2.min.js"></script>
</head>


<body>
	
	<div class="topnav">
		<img src="SPIS-logo.jpg">
		<a class="tab" href="index.html">Home</a>
		<a class="tab" href="academic.html">Academic Program</a>
		<a class="tab" href="enrollment.html">Enrollment</a>
		<a class="tab" href="calendar.html">Program Calendar</a>
		<a id="active" class="tab" href="dates.html">Dates + Events</a>
		<a class="tab" href="residential.html">Residential Life</a>
		<a class="tab" href="people.html">People</a>
		<a class="tab" href="highlights.html">Highlights</a>
	</div> 

	
	<div class="split">
		<div class="welcome">
			<h1><c class="year"></c> SPIS Welcome Day</h1>
			<script>
				var data;
				d3.csv("welcome.csv").then(function(result) {
					data = result;
					var welcome = "";
					
					var j = 0;
					for(i = 0; i < data.length; i++){
						welcome+= "<p></p> <b class='title'>";
						welcome+= data[i].Time;
						welcome+= "<br></b>";
						welcome+= data[i].Description;
						
						if(data[i].Description.includes('[')) {
							var wordStart = data[i].Description.indexOf('[');
							var wordEnd = data[i].Description.indexOf(']');
							var linkStart = data[i].Description.indexOf('{');
							var linkEnd = data[i].Description.indexOf('}');
					
							var word = data[i].Description.substring(wordStart + 1, wordEnd);
							var link = data[i].Description.substring(linkStart + 1, linkEnd);
	
							var original = data[i].Description.substring(wordStart, linkEnd + 1);
							var replacement = "<a href='" + link + "'>" + word + "</a>";
	
							welcome = welcome.replace(original, replacement);
						}
						
						while(data[i].Description.includes('\\')) {
							welcome = welcome.replace("\\", "<br>");
							data[i].Description = data[i].Description.replace("\\", "");
						}

						while(data[i].Description.includes("*")) {
							if (j == 0) {
								welcome = welcome.replace("*", "<ul> *");
								j++;
							}
	
							var bulletStart = data[i].Description.indexOf('*');
							var bulletEnd = data[i].Description.indexOf('*', bulletStart + 1);
	
							var bullet = data[i].Description.substring(bulletStart + 1, bulletEnd);	
							var original = data[i].Description.substring(bulletStart, bulletEnd);
							if(bulletEnd == -1) {
								bullet = data[i].Description.substring(bulletStart + 1);
								original = data[i].Description.substring(bulletStart);
							}
	
							var replacement = "<li>" + bullet + "</li>";
	
							welcome = welcome.replace(original, replacement);
	
							data[i].Description = data[i].Description.replace('*', '');
	
							if (data[i].Description.includes("'")) {
								var outerBulletStart = data[i].Description.indexOf("*");
								var outerBulletEnd = data[i].Description.indexOf("'");
								var outerBulletOriginal = data[i].Description.substring(outerBulletStart, outerBulletEnd);
								var outerBulletReplacement = data[i].Description.substring(outerBulletStart + 1, outerBulletEnd);

								welcome = welcome.replace(outerBulletOriginal, "<li>" + outerBulletReplacement + "</li>");
	
								welcome += "<ul>";
								while(data[i].Description.includes("'")) {
									var innerBulletStart = data[i].Description.indexOf("'");
									var innerBulletEnd = data[i].Description.indexOf("'", innerBulletStart + 1);
	
									var innerBullet = data[i].Description.substring(innerBulletStart + 1, innerBulletEnd);	
									
									var innerOriginal = data[i].Description.substring(innerBulletStart, innerBulletEnd + 2);
									var innerReplacement = "<li type='circle' class='inner'>" + innerBullet + "</li>";
	
									welcome = welcome.replace(innerOriginal, innerReplacement);
	
									data[i].Description = data[i].Description.replace("'", "");
									data[i].Description = data[i].Description.replace("'", "");
								}
								welcome += "</ul>";
							}
						}
						welcome += "</ul>";
					}
	
					$("welcome").html(welcome);	
				});
			</script>
			<welcome></welcome>
		</div>

		<div class="images">
			<div class="container">
				<div class="slideshow">
					<!-- Full-width images with number and caption text -->
					<div>
						<img src="./ceremony/closing1.png" style="width:100%; height:auto">
					</div>
		
					<div class="hidden">
						<img src="./ceremony/closing2.png" style="width:100%; height:auto">
					</div>
		
					<div class="hidden">
						<img src="./ceremony/closing3.png" style="width:100%; height:auto">
					</div>
					<div class="hidden">
						<img src="./ceremony/closing4.png" style="width:100%; height:auto">
					</div>
		
					<div class="hidden">
						<img src="./ceremony/closing5.png" style="width:100%; height:auto">
					</div>

					<div class="hidden">
						<img src="./ceremony/closing6.png" style="width:100%; height:auto">
					</div>
				</div>
			</div>
		</div>
		<script>
			var main = function() {
				var paused = false
				setInterval(function() {
					if (paused === false) { 
						$('.slideshow > div:first')
						.fadeOut(1000)
						.next()
						.fadeIn(1000)
						.end()
						.appendTo('.slideshow');
					};
				},  7000);
			};
			$(document).ready(main);
		</script>

		
	
		<div class="dates">
			<h1> Important Dates </h1>
			<ul>
				<li><a href="https://" onclick="location.href=this.href+applicationLink;return false;">SPIS Application</a> will open starting <b class="appStart"></b></li>
				<li>Application deadline: <b class="appEnd"></b></li>
				<li>Admission/scholarship notification: <b class="acceptDate"></b></li>
				<li>Acceptance confirmation: <b class="confirmDate"></b></li>
				<li>Fee payment deadline: <b class="feeDue"></b></li>
				<li>Registration deadline: <b class="registrationDue"></b></li>
				<li>SPIS Welcome Day: <b class="programStart"></b></li>
				<li>SPIS Closing Ceremony: <b class="programEnd"></b></li>
			</ul>
		</div>
	
		<div class="closing">
			<h1><c class="year"></c> SPIS Closing Ceremony</h1>
			<script>
				var data;
				var closing = "";
				
				d3.csv("closing.csv").then(function(result) {
					data = result;
					for (i = 0; i < data.length; i++){
						if (data[i].Intro.length > 0){
							closing += "<p>" + data[i].Intro + "</p>";
						}
						var wordStart = closing.indexOf("[");
						var wordEnd = closing.indexOf("]");
						var word = closing.substring(wordStart+1, wordEnd);
						
						var linkStart = closing.indexOf("{");
						var linkEnd = closing.indexOf("}");
						var link = closing.substring(linkStart+1, linkEnd);
						closing = closing.replace(closing.substring(wordStart, linkEnd+1), "<a href='" + link + "'>" + word + "</a>")
					}
	
					var j = 0;
					for(i = 0; i < data.length; i++){
						closing += "<p></p> <b class='title'>";
						closing += data[i].Time;
						closing += "<br></b>";
						closing += data[i].Description;
	
						while(data[i].Description.includes("*")) {
							if (j == 0) {
								closing = closing.replace("*", "<ul> *");
								j++;
							}
	
							var bulletStart = data[i].Description.indexOf('*');
							var bulletEnd = data[i].Description.indexOf('*', bulletStart + 1);
	
							var bullet = data[i].Description.substring(bulletStart + 1, bulletEnd);	
							var original = data[i].Description.substring(bulletStart, bulletEnd);
							if(bulletEnd == -1) {
								bullet = data[i].Description.substring(bulletStart + 1);
								original = data[i].Description.substring(bulletStart);
							}
	
							var replacement = "<li>" + bullet + "</li>";
	
							closing = closing.replace(original, replacement);
	
							data[i].Description = data[i].Description.replace('*', '');
	
							if (data[i].Description.includes("'")) {
								var outerBulletStart = data[i].Description.indexOf("*");
								var outerBulletEnd = data[i].Description.indexOf("'");
								var outerBulletOriginal = data[i].Description.substring(outerBulletStart, outerBulletEnd);
								var outerBulletReplacement = data[i].Description.substring(outerBulletStart + 1, outerBulletEnd);

								closing = closing.replace(outerBulletOriginal, "<li>" + outerBulletReplacement + "</li>");
	
								closing+= "<ul>";
								while(data[i].Description.includes("'")) {
									var innerBulletStart = data[i].Description.indexOf("'");
									var innerBulletEnd = data[i].Description.indexOf("'", innerBulletStart + 1);
	
									var innerBullet = data[i].Description.substring(innerBulletStart + 1, innerBulletEnd);	
									
									var innerOriginal = data[i].Description.substring(innerBulletStart, innerBulletEnd + 2);
									var innerReplacement = "<li type='circle' class='inner'>" + innerBullet + "</li>";
	
									closing = closing.replace(innerOriginal, innerReplacement);
	
									data[i].Description = data[i].Description.replace("'", "");
									data[i].Description = data[i].Description.replace("'", "");
								}
								closing += "</ul>";
							}
						}
						closing += "</ul>";
					}
					$("closing").html(closing);	
				});
			</script>
			<closing></closing>
		</div>

	</div>

	<script src="upgrade.js"></script>

</body>
</html>
